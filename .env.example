# ============================================
# AreYouOK 服务配置文件示例
# ============================================
# 复制此文件为 .env 并填写实际配置值
# cp .env.example .env

# ============================================
# 服务配置
# ============================================
SERVER_PORT=8888
SERVER_HOST=0.0.0.0
ENVIRONMENT=development
SERVICE_NAME=areyouok

# ============================================
# PostgreSQL 数据库配置
# ============================================
POSTGRESQL_HOST=localhost
POSTGRESQL_PORT=5432
POSTGRESQL_USER=postgres
POSTGRESQL_PASSWORD=postgres
POSTGRESQL_DATABASE=areyouok
POSTGRESQL_SCHEMA=public
POSTGRESQL_SSLMODE=disable
POSTGRESQL_MAX_IDLE=30
POSTGRESQL_MAX_OPEN=200

# ============================================
# Redis 配置
# ============================================
REDIS_ADDR=localhost:6379
REDIS_PASSWORD=
REDIS_DB=0
REDIS_PREFIX=ayok

# ============================================
# RabbitMQ 配置
# ============================================
RABBITMQ_ADDR=localhost
RABBITMQ_PORT=5672
RABBITMQ_USERNAME=guest
RABBITMQ_PASSWORD=guest
RABBITMQ_VHOST=/

# ============================================
# JWT 配置
# ============================================
# 必填：用于签名 JWT，建议使用随机生成的32字节字符串
JWT_SECRET=your-secret-key-change-this-in-production
JWT_EXPIRE_MINUTES=30
JWT_REFRESH_DAYS=7

# ============================================
# 支付宝小程序配置
# ============================================
ALIPAY_APP_ID=
ALIPAY_APP_SECRET=
ALIPAY_PUBLIC_KEY=
ALIPAY_PRIVATE_KEY=
ALIPAY_GATEWAY=https://openapi.alipay.com/gateway.do
ALIBABA_CLOUD_ACCESS_KEY_ID=
ALIBABA_CLOUD_ACCESS_KEY_SECRET=

# ============================================
# 短信服务配置
# ============================================
# 短信服务提供商（aliyun, tencent 等）
SMS_PROVIDER=aliyun

# 短信签名名称（必填）
# 示例：长沙深算科技
SMS_SIGN_NAME=

# 短信模板代码（必填）
# 示例：SMS_498175460
SMS_TEMPLATE_CODE=

# 注意：阿里云 AccessKey 和 SecretKey 通过以下环境变量自动获取：
# ALIBABA_CLOUD_ACCESS_KEY_ID=你的AccessKeyID
# ALIBABA_CLOUD_ACCESS_KEY_SECRET=你的AccessKeySecret
# 这些变量已经在上面配置，也可以单独设置

# ============================================
# 外呼服务配置
# ============================================
VOICE_PROVIDER=aliyun
VOICE_ACCESS_KEY=
VOICE_SECRET_KEY=
VOICE_APP_ID=

# ============================================
# 加密配置
# ============================================
# 必填：用于加密手机号等敏感数据，必须是32字节（AES-256）
# 可以使用以下命令生成：openssl rand -hex 16
ENCRYPTION_KEY=0123456789abcdef0123456789abcdef

# ============================================
# Snowflake ID 生成器配置
# ============================================
SNOWFLAKE_MACHINE_ID=1
SNOWFLAKE_DATACENTER_ID=1

# ============================================
# 日志配置
# ============================================
LOGGER_LEVEL=INFO
LOGGER_FORMAT=text
LOGGER_OUTPUT_PATH=stdout

# ============================================
# 速率限制配置
# ============================================
RATE_LIMIT_ENABLED=true
RATE_LIMIT_RPS=100

# ============================================
# 验证码配置
# ============================================
CAPTCHA_EXPIRE_SECONDS=120
CAPTCHA_MAX_DAILY=10
CAPTCHA_SLIDER_THRESHOLD=2

# ============================================
# 额度配置
# ============================================
DEFAULT_SMS_QUOTA=100
DEFAULT_VOICE_QUOTA=50

# ============================================
# 内测配置
# ============================================
WAITLIST_MAX_USERS=1000
WAITLIST_BATCH_TAG=beta_v1
